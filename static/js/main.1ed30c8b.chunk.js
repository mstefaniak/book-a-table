(this["webpackJsonpbook-a-table"]=this["webpackJsonpbook-a-table"]||[]).push([[0],{130:function(e,t,a){},146:function(e,t,a){"use strict";a.r(t);var r=a(9),n=a(0),o=a.n(n),i=a(17),c=a.n(i),s=(a(130),a(45)),b=a(178),l=a(80),j=a.n(l),u=a(95),d=a(16),m=a(28),p=a(81),h=a(99),O=a(100),x=a(98),f=a(179),w=a(180),v=a(101),_=a(55),k=a(191),y=a(44),g=a(109),z=a(181),N=a(182),B=a(61),S=a(186),I=a(192),D=a(183),C=a(190),T=a(185),q=a(188),M=a(187),P=a(20),W=a(184),Z=a(194),A=Object(n.createContext)({firebase:null}),V=function(e){return Object(r.jsx)(M.a,Object(m.a)({elevation:6,variant:"filled"},e))},E=Object(p.a)(new Date,1),F={date:E,time:Object(h.a)(Object(O.a)(E,0),18),area:"anywhere"},J=function(e,t){var a=Object(x.a)(t),r=Object(f.a)(t);return Object(w.a)(Object(O.a)(Object(h.a)(e,a),r))},L=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return function(e){return t.reduce((function(t,a){return t||a(e)}),void 0)}},U=function(){var e=Object(k.a)().t,t=Object(n.useContext)(A).firebase,a=Object(n.useState)(!1),o=Object(d.a)(a,2),i=o[0],c=o[1],s=function(t){return t?void 0:e("required")},b=function(t){return isNaN(Number(t))?e("invalid_number"):void 0},l=function(e){var t=Object(x.a)(e),a=Object(f.a)(e);if(t<16||t>20||20===t&&a>0)return"error"},p=function(e){var t=Object(h.a)(Object(O.a)(e,0),16),a=Object(h.a)(Object(O.a)(Object(v.a)(E,0),59),15);if(Object(_.a)(t,a))return"error"},w=function(){var e=Object(u.a)(j.a.mark((function e(a){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return r={name:a.name,area:a.area,people:a.people,comment:a.comment,date:J(a.date,a.time),status:0},e.next=4,t.firestore().collection("bookings").add(r);case 4:e.sent?c(!0):console.error("Booking not saved");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return i?Object(r.jsxs)(z.a,{container:!0,spacing:2,children:[Object(r.jsx)(z.a,{item:!0,xs:12,children:Object(r.jsx)(V,{severity:"success",children:e("success_message")})}),Object(r.jsx)(z.a,{item:!0,xs:12,children:Object(r.jsx)(N.a,{type:"button",variant:"contained",onClick:function(){c(!1)},children:e("add_new_booking")})})]}):Object(r.jsx)(y.b,{onSubmit:w,initialValues:F,render:function(t){var a,n,o=t.handleSubmit,i=t.submitting,c=t.pristine;return Object(r.jsx)("form",{onSubmit:o,children:Object(r.jsxs)(z.a,{container:!0,spacing:2,children:[Object(r.jsxs)(z.a,{item:!0,xs:12,children:[Object(r.jsx)(B.a,{variant:"h4",gutterBottom:!0,children:e("book_a_table")}),Object(r.jsx)(B.a,{variant:"h6",gutterBottom:!0,children:"The Office - Craft Beer Pub"})]}),Object(r.jsx)(z.a,{item:!0,xs:12,children:Object(r.jsx)(y.a,{name:"name",validate:s,children:function(t){var a=t.input,n=t.meta;return Object(r.jsx)(S.a,Object(m.a)(Object(m.a)({},a),{},{label:n.touched&&n.error?e("error"):e("name"),error:n.touched&&!!n.error,helperText:n.touched&&n.error?n.error:e("name_hint")}))}})}),Object(r.jsxs)(P.a,{utils:g.a,children:[Object(r.jsx)(z.a,{item:!0,xs:12,children:Object(r.jsx)(y.a,{name:"date",validate:p,children:function(t){var a=t.input,n=t.meta;return Object(r.jsx)(W.a,Object(m.a)(Object(m.a)({},a),{},{margin:"normal",format:"dd-MM-yyyy",label:n.touched&&n.error?e("error"):e("date"),error:n.touched&&!!n.error,helperText:e("date_hint")}))}})}),Object(r.jsx)(z.a,{item:!0,xs:12,children:Object(r.jsx)(y.a,{name:"time",validate:l,children:function(t){var a=t.input,n=t.meta;return Object(r.jsx)(Z.a,Object(m.a)(Object(m.a)({},a),{},{ampm:!1,minutesStep:15,margin:"normal",label:n.touched&&n.error?e("error"):e("time"),error:n.touched&&!!n.error,helperText:e("time_hint")}))}})})]}),Object(r.jsx)(z.a,{item:!0,xs:12,children:Object(r.jsx)(y.a,{name:"people",validate:L(b,(a=1,n=12,function(t){return Number(t)<a||Number(t)>n?e("not_between",{min:1,max:12}):void 0})),children:function(t){var a=t.input,n=t.meta;return Object(r.jsx)(S.a,Object(m.a)(Object(m.a)({},a),{},{label:n.touched&&n.error?e("error"):e("people"),error:n.touched&&!!n.error,helperText:n.touched&&n.error?n.error:e("people_hint")}))}})}),Object(r.jsx)(z.a,{item:!0,xs:12,children:Object(r.jsx)(y.a,{name:"area",type:"radio",children:function(t){var a=t.input;return Object(r.jsxs)(I.a,{component:"fieldset",children:[Object(r.jsx)(D.a,{component:"legend",children:e("place")}),Object(r.jsxs)(C.a,Object(m.a)(Object(m.a)({},a),{},{defaultValue:F.area,children:[Object(r.jsx)(T.a,{value:"anywhere",control:Object(r.jsx)(q.a,{}),label:e("place_anywhere")}),Object(r.jsx)(T.a,{value:"upstairs",control:Object(r.jsx)(q.a,{}),label:e("place_upstairs")}),Object(r.jsx)(T.a,{value:"downstairs",control:Object(r.jsx)(q.a,{}),label:e("place_downstairs")})]}))]})}})}),Object(r.jsx)(z.a,{item:!0,xs:12,children:Object(r.jsx)(y.a,{name:"comment",children:function(t){var a=t.input;return Object(r.jsx)(S.a,Object(m.a)(Object(m.a)({},a),{},{label:e("other"),helperText:e("other_hint")}))}})}),Object(r.jsx)(z.a,{item:!0,xs:12,children:Object(r.jsx)(N.a,{type:"submit",variant:"contained",color:"primary",disabled:i||c,children:e("book")})})]})})}})},G=a(82),K=a(60),R=a(107),H={en:{translation:{add_new_booking:"Book another table",book:"Book",book_a_table:"Book a table",date:"Date",date_hint:"Not allowed to book for earier then tomorrow",error:"Error",invalid_number:"Not a number",name:"First Name",name_hint:"First name or nickname",not_between:"Should be between {{min}} and {{max}}",other:"Other requirements",other_hint:"Let us know what else we can do for you",people:"People",people_hint:"How many people?",place:"Place",place_anywhere:"Anywhere",place_upstairs:"Upstairs (street level)",place_downstairs:"Downstairs (basement)",required:"Required",success_message:"Booking successful. We cannot wait to see you.",time:"Time",time_hint:"In the range from 16:00 till 20:00"}},pl:{translation:{add_new_booking:"Zarezerwuj kolejny stolik",book:"Zarezerwuj",book_a_table:"Zarezerwuj stolik",date:"Data",date_hint:"Mo\u017cemy zarezerwowa\u0107 najwcze\u015bniej na jutro",error:"B\u0142\u0105d",invalid_number:"Nieprawid\u0142owy numer",name:"Imi\u0119",name_hint:"Imi\u0119 lub pseudonim",not_between:"Dopuszczamy od {{min}} do {{max}}",other:"Inne wymagania",other_hint:"Napisz co jeszcze mo\u017cemy dla ciebie zrobi\u0107",people:"Ile os\xf3b",people_hint:"Dla ilu os\xf3b ma by\u0107 rezerwacja?",place:"Miejsce",place_anywhere:"Dowolne",place_upstairs:"U g\xf3ry (poziom ulicy)",place_downstairs:"Na dole (piwnica)",required:"Wymagane",success_message:"Stolik zarezerwowany. Do zobaczenia!",time:"Godzina",time_hint:"W zakresie od 16:00 do 20:00"}}};G.a.use(R.a).use(K.e).init({resources:H,fallbackLng:"en",keySeparator:!1,interpolation:{escapeValue:!1}});G.a;var Q=Object(s.a)((function(e){return{root:{position:"absolute",flexGrow:1,padding:40,backgroundColor:e.palette.grey[100],top:0,bottom:0,right:0,left:0},paper:{padding:e.spacing(2),margin:"auto",maxWidth:500}}}));var X=function(){var e=Q();return Object(r.jsx)("div",{className:e.root,children:Object(r.jsx)(b.a,{className:e.paper,children:Object(r.jsx)(U,{})})})},Y=a(108),$=a.n(Y),ee=(a(140),a(144),"book-a-table-prod"),te={apiKey:"AIzaSyCE6mjxw8cnpm0Z5qW1PesKNCFZxJV0bkw",authDomain:"".concat(ee,".firebaseapp.com"),databaseURL:"https://".concat(ee,".firebaseio.com"),projectId:ee,storageBucket:"".concat(ee,".appspot.com"),messagingSenderId:"173934858452",appId:"1:173934858452:web:50fdcc7645b3d229572b41"},ae=$.a.initializeApp(te);c.a.render(Object(r.jsx)(o.a.StrictMode,{children:Object(r.jsx)(A.Provider,{value:{firebase:ae},children:Object(r.jsx)(X,{})})}),document.getElementById("root"))}},[[146,1,2]]]);
//# sourceMappingURL=main.1ed30c8b.chunk.js.map